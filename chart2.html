<html>
<!-- Küsimuste osa -->
<body style="margin: 0 auto; min-height: 500px; min-width: 500px">
	<form id="questions" style="margin: 0 auto; text-align: center">
		<h3>T1 Kogu koolipere jagab ühiseid väärtusi.</h3>
		<label><input type="radio" name="q1" value=1>1</label>
		<label><input type="radio" name="q1" value=2>2</label>
		<label><input type="radio" name="q1" value=3>3</label>
		<label><input type="radio" name="q1" value=4>4</label>
		<label><input type="radio" name="q1" value=5>5</label>
		
		<h3>T4 Õppekava võimaldab õpilastel valida huvipõhiseid valikaineid.</h3>
		<label><input type="radio" name="q2" value=1>1</label>
		<label><input type="radio" name="q2" value=2>2</label>
		<label><input type="radio" name="q2" value=3>3</label>
		<label><input type="radio" name="q2" value=4>4</label>
		<label><input type="radio" name="q2" value=5>5</label>

		<h3>T2 Lapsevanemad panustavad aktiivselt kooli tegevustesse.</h3>
		<label><input type="radio" name="q3" value=1>1</label>
		<label><input type="radio" name="q3" value=2>2</label>
		<label><input type="radio" name="q3" value=3>3</label>
		<label><input type="radio" name="q3" value=4>4</label>
		<label><input type="radio" name="q3" value=5>5</label>

		<h3>T11 Kool arendab sihiteadlikult õpilaste sotsiaal-emotsionaalseid oskusi.</h3>
		<label><input type="radio" name="q4" value=1>1</label>
		<label><input type="radio" name="q4" value=2>2</label>
		<label><input type="radio" name="q4" value=3>3</label>
		<label><input type="radio" name="q4" value=4>4</label>
		<label><input type="radio" name="q4" value=5>5</label>

		<h3>T5 Hindamine annab õpilasele edasiseks õppimiseks kasulikku tagasisidet.</h3>
		<label><input type="radio" name="q5" value=1>1</label>
		<label><input type="radio" name="q5" value=2>2</label>
		<label><input type="radio" name="q5" value=3>3</label>
		<label><input type="radio" name="q5" value=4>4</label>
		<label><input type="radio" name="q5" value=5>5</label>

		<h3>T12 Kooli ruumides on sisustus ümberpaigutatav vastavalt õpieesmärkidele.</h3>
		<label><input type="radio" name="q6" value=1>1</label>
		<label><input type="radio" name="q6" value=2>2</label>
		<label><input type="radio" name="q6" value=3>3</label>
		<label><input type="radio" name="q6" value=4>4</label>
		<label><input type="radio" name="q6" value=5>5</label>

		<h3>T6 On tavaline, et õpilased õpivad üksteiselt.</h3>
		<label><input type="radio" name="q7" value=1>1</label>
		<label><input type="radio" name="q7" value=2>2</label>
		<label><input type="radio" name="q7" value=3>3</label>
		<label><input type="radio" name="q7" value=4>4</label>
		<label><input type="radio" name="q7" value=5>5</label>

		<h3>T4 Õpetajad kasutavad mitmekesiseid õpetamismeetodeid.</h3>
		<label><input type="radio" name="q8" value=1>1</label>
		<label><input type="radio" name="q8" value=2>2</label>
		<label><input type="radio" name="q8" value=3>3</label>
		<label><input type="radio" name="q8" value=4>4</label>
		<label><input type="radio" name="q8" value=5>5</label>

		<h3>T6 Õpetajad kasutavad paaris- ja rühmatöö meetodeid.</h3>
		<label><input type="radio" name="q9" value=1>1</label>
		<label><input type="radio" name="q9" value=2>2</label>
		<label><input type="radio" name="q9" value=3>3</label>
		<label><input type="radio" name="q9" value=4>4</label>
		<label><input type="radio" name="q9" value=5>5</label>

		<h3>T10 Õpetajad tegelevad eneseanalüüsiga.</h3>
		<label><input type="radio" name="q10" value=1>1</label>
		<label><input type="radio" name="q10" value=2>2</label>
		<label><input type="radio" name="q10" value=3>3</label>
		<label><input type="radio" name="q10" value=4>4</label>
		<label><input type="radio" name="q10" value=5>5</label>

		<h3>T13 Koolis võimaldatakse õpilastele kehalist aktiivsust ainetundides.</h3>
		<label><input type="radio" name="q11" value=1>1</label>
		<label><input type="radio" name="q11" value=2>2</label>
		<label><input type="radio" name="q11" value=3>3</label>
		<label><input type="radio" name="q11" value=4>4</label>
		<label><input type="radio" name="q11" value=5>5</label>

		<h3>T5 Õpilased hindavad ka ise oma arengut.</h3>
		<label><input type="radio" name="q12" value=1>1</label>
		<label><input type="radio" name="q12" value=2>2</label>
		<label><input type="radio" name="q12" value=3>3</label>
		<label><input type="radio" name="q12" value=4>4</label>
		<label><input type="radio" name="q12" value=5>5</label>

		<h3>T12 Õppetöö raames arvestatakse ka õpilaste mitteformaalset õpikogemust.</h3>
		<label><input type="radio" name="q13" value=1>1</label>
		<label><input type="radio" name="q13" value=2>2</label>
		<label><input type="radio" name="q13" value=3>3</label>
		<label><input type="radio" name="q13" value=4>4</label>
		<label><input type="radio" name="q13" value=5>5</label>

		<h3>T3 Õpilased osalevad projektides, mis edendavad kohaliku kogukonna elu.</h3>
		<label><input type="radio" name="q14" value=1>1</label>
		<label><input type="radio" name="q14" value=2>2</label>
		<label><input type="radio" name="q14" value=3>3</label>
		<label><input type="radio" name="q14" value=4>4</label>
		<label><input type="radio" name="q14" value=5>5</label>

		<h3>T9 Õpetajad külastavad sageli kolleegide tunde.</h3>
		<label><input type="radio" name="q15" value=1>1</label>
		<label><input type="radio" name="q15" value=2>2</label>
		<label><input type="radio" name="q15" value=3>3</label>
		<label><input type="radio" name="q15" value=4>4</label>
		<label><input type="radio" name="q15" value=5>5</label>

		<h3>T9 Õpetajate töögraafikus on kavandatud aeg koostööks.</h3>
		<label><input type="radio" name="q16" value=1>1</label>
		<label><input type="radio" name="q16" value=2>2</label>
		<label><input type="radio" name="q16" value=3>3</label>
		<label><input type="radio" name="q16" value=4>4</label>
		<label><input type="radio" name="q16" value=5>5</label>

		<h3>T1 Kogu kollektiiv osaleb strateegiliste otsuste tegemisel.</h3>
		<label><input type="radio" name="q17" value=1>1</label>
		<label><input type="radio" name="q17" value=2>2</label>
		<label><input type="radio" name="q17" value=3>3</label>
		<label><input type="radio" name="q17" value=4>4</label>
		<label><input type="radio" name="q17" value=5>5</label>

		<h3>T9 Sama aine ja/või kooliastme õpetajad planeerivad ja viivad läbi tunde ühiselt.</h3>
		<label><input type="radio" name="q18" value=1>1</label>
		<label><input type="radio" name="q18" value=2>2</label>
		<label><input type="radio" name="q18" value=3>3</label>
		<label><input type="radio" name="q18" value=4>4</label>
		<label><input type="radio" name="q18" value=5>5</label>

		<h3>T10 Õpetajad näitavad initsiatiivi pidevaks enesearenguks.</h3>
		<label><input type="radio" name="q19" value=1>1</label>
		<label><input type="radio" name="q19" value=2>2</label>
		<label><input type="radio" name="q19" value=3>3</label>
		<label><input type="radio" name="q19" value=4>4</label>
		<label><input type="radio" name="q19" value=5>5</label>

		<h3>T7 Õpetajad valivad tehnoloogilisi õpivahendeid vastavalt õpieesmärkidele.</h3>
		<label><input type="radio" name="q20" value=1>1</label>
		<label><input type="radio" name="q20" value=2>2</label>
		<label><input type="radio" name="q20" value=3>3</label>
		<label><input type="radio" name="q20" value=4>4</label>
		<label><input type="radio" name="q20" value=5>5</label>

		<h3>T13 Kool on rakendanud meetmeid õpilaste toitumise tervislikumaks muutmiseks.</h3>
		<label><input type="radio" name="q21" value=1>1</label>
		<label><input type="radio" name="q21" value=2>2</label>
		<label><input type="radio" name="q21" value=3>3</label>
		<label><input type="radio" name="q21" value=4>4</label>
		<label><input type="radio" name="q21" value=5>5</label>

		<h3>T7 Meie koolis toetab tehnoloogiliste õpivahendite kasutamine õpilase arengut.</h3>
		<label><input type="radio" name="q22" value=1>1</label>
		<label><input type="radio" name="q22" value=2>2</label>
		<label><input type="radio" name="q22" value=3>3</label>
		<label><input type="radio" name="q22" value=4>4</label>
		<label><input type="radio" name="q22" value=5>5</label>

		<h3>T8 Õppetöös kasutatakse mitut õppeainet lõimivat projektõpet.</h3>
		<label><input type="radio" name="q23" value=1>1</label>
		<label><input type="radio" name="q23" value=2>2</label>
		<label><input type="radio" name="q23" value=3>3</label>
		<label><input type="radio" name="q23" value=4>4</label>
		<label><input type="radio" name="q23" value=5>5</label>

		<h3>T13 Koolis rakendatakse meetmeid õpilaste vaimse tervise ja heaolu tagamiseks.</h3>
		<label><input type="radio" name="q24" value=1>1</label>
		<label><input type="radio" name="q24" value=2>2</label>
		<label><input type="radio" name="q24" value=3>3</label>
		<label><input type="radio" name="q24" value=4>4</label>
		<label><input type="radio" name="q24" value=5>5</label>

		<h3>T11 Meie õpilased käivad koolis rõõmuga.</h3>
		<label><input type="radio" name="q25" value=1>1</label>
		<label><input type="radio" name="q25" value=2>2</label>
		<label><input type="radio" name="q25" value=3>3</label>
		<label><input type="radio" name="q25" value=4>4</label>
		<label><input type="radio" name="q25" value=5>5</label>

		<h3>T11 Koolis tegeldakse süsteemselt koolikiusamise ennetusega.</h3>
		<label><input type="radio" name="q26" value=1>1</label>
		<label><input type="radio" name="q26" value=2>2</label>
		<label><input type="radio" name="q26" value=3>3</label>
		<label><input type="radio" name="q26" value=4>4</label>
		<label><input type="radio" name="q26" value=5>5</label>

		<h3>T7 Õpetajad kasutavad tehnoloogiat, et muuta õppimine tulemuslikumaks.</h3>
		<label><input type="radio" name="q27" value=1>1</label>
		<label><input type="radio" name="q27" value=2>2</label>
		<label><input type="radio" name="q27" value=3>3</label>
		<label><input type="radio" name="q27" value=4>4</label>
		<label><input type="radio" name="q27" value=5>5</label>

		<h3>T10 Õpetajad on teadlikud oma arenguvajadustest.</h3>
		<label><input type="radio" name="q28" value=1>1</label>
		<label><input type="radio" name="q28" value=2>2</label>
		<label><input type="radio" name="q28" value=3>3</label>
		<label><input type="radio" name="q28" value=4>4</label>
		<label><input type="radio" name="q28" value=5>5</label>

		<h3>T8 Õppetöö raames tehakse praktilise väljundiga uurimistöid ja/või projekte.</h3>
		<label><input type="radio" name="q29" value=1>1</label>
		<label><input type="radio" name="q29" value=2>2</label>
		<label><input type="radio" name="q29" value=3>3</label>
		<label><input type="radio" name="q29" value=4>4</label>
		<label><input type="radio" name="q29" value=5>5</label>

		<h3>T11 Meie koolis on õpetajatel võimalus saada kooli kulul supervisiooni.</h3>
		<label><input type="radio" name="q30" value=1>1</label>
		<label><input type="radio" name="q30" value=2>2</label>
		<label><input type="radio" name="q30" value=3>3</label>
		<label><input type="radio" name="q30" value=4>4</label>
		<label><input type="radio" name="q30" value=5>5</label>

		<h3>T1 Kooli töötajad tulevad tihti välja uute algatustega.</h3>
		<label><input type="radio" name="q31" value=1>1</label>
		<label><input type="radio" name="q31" value=2>2</label>
		<label><input type="radio" name="q31" value=3>3</label>
		<label><input type="radio" name="q31" value=4>4</label>
		<label><input type="radio" name="q31" value=5>5</label>

		<h3>T5 Õpilased saavad enamasti kirjeldavat tagasisidet.</h3>
		<label><input type="radio" name="q32" value=1>1</label>
		<label><input type="radio" name="q32" value=2>2</label>
		<label><input type="radio" name="q32" value=3>3</label>
		<label><input type="radio" name="q32" value=4>4</label>
		<label><input type="radio" name="q32" value=5>5</label>

		<h3>T2 Kool saadab kõigile lapsevanematele regulaarset koolielu puudutavat teavet.</h3>
		<label><input type="radio" name="q33" value=1>1</label>
		<label><input type="radio" name="q33" value=2>2</label>
		<label><input type="radio" name="q33" value=3>3</label>
		<label><input type="radio" name="q33" value=4>4</label>
		<label><input type="radio" name="q33" value=5>5</label>

		<h3>T12 Kool toetab õppetöö korralduses paindlikkust.</h3>
		<label><input type="radio" name="q34" value=1>1</label>
		<label><input type="radio" name="q34" value=2>2</label>
		<label><input type="radio" name="q34" value=3>3</label>
		<label><input type="radio" name="q34" value=4>4</label>
		<label><input type="radio" name="q34" value=5>5</label>

		<h3>T3 Kohalik omavalitsus toetab kooli tegevust.</h3>
		<label><input type="radio" name="q35" value=1>1</label>
		<label><input type="radio" name="q35" value=2>2</label>
		<label><input type="radio" name="q35" value=3>3</label>
		<label><input type="radio" name="q35" value=4>4</label>
		<label><input type="radio" name="q35" value=5>5</label>

		<h3>T13 Koolis võimaldatakse õpilastele kehalist aktiivsust vahetunnis.</h3>
		<label><input type="radio" name="q36" value=1>1</label>
		<label><input type="radio" name="q36" value=2>2</label>
		<label><input type="radio" name="q36" value=3>3</label>
		<label><input type="radio" name="q36" value=4>4</label>
		<label><input type="radio" name="q36" value=5>5</label>

		<h3>T5 Õpilased seavad endale ka ise õpieesmärke.</h3>
		<label><input type="radio" name="q37" value=1>1</label>
		<label><input type="radio" name="q37" value=2>2</label>
		<label><input type="radio" name="q37" value=3>3</label>
		<label><input type="radio" name="q37" value=4>4</label>
		<label><input type="radio" name="q37" value=5>5</label>

		<h3>T10 Õpetajate töögraafikus on kavandatud aeg enesearenguks ja õppimiseks.</h3>
		<label><input type="radio" name="q38" value=1>1</label>
		<label><input type="radio" name="q38" value=2>2</label>
		<label><input type="radio" name="q38" value=3>3</label>
		<label><input type="radio" name="q38" value=4>4</label>
		<label><input type="radio" name="q38" value=5>5</label>

		<h3>T7 Õpetajad arendavad vajadusel oma tehnoloogia kasutamise oskusi.</h3>
		<label><input type="radio" name="q39" value=1>1</label>
		<label><input type="radio" name="q39" value=2>2</label>
		<label><input type="radio" name="q39" value=3>3</label>
		<label><input type="radio" name="q39" value=4>4</label>
		<label><input type="radio" name="q39" value=5>5</label>

		<h3>T4 Õpetajad oskavad toetada haridusliku erivajadusega õpilast.</h3>
		<label><input type="radio" name="q40" value=1>1</label>
		<label><input type="radio" name="q40" value=2>2</label>
		<label><input type="radio" name="q40" value=3>3</label>
		<label><input type="radio" name="q40" value=4>4</label>
		<label><input type="radio" name="q40" value=5>5</label>

		<h3>T6 Õpetajad kaasavad õpilasi tundide ettevalmistamisse ja läbiviimisse.</h3>
		<label><input type="radio" name="q41" value=1>1</label>
		<label><input type="radio" name="q41" value=2>2</label>
		<label><input type="radio" name="q41" value=3>3</label>
		<label><input type="radio" name="q41" value=4>4</label>
		<label><input type="radio" name="q41" value=5>5</label>
		<br><br>
		<input type = "submit" value = "Saada" style="font-size: 2em;" onclick = "event.preventDefault(); setValues(); draw(); showCanvas()" id="myBtn">
	</form>

	<!-- Algselt on canvas peidetud, nähtavale ilmub siis, kui küsimustele on vastatud -->
    <canvas id="myCanvas" style="padding: 50px; display: none">
		<img src = "img/elulahedane_ope.png" alt="Elulähedane õpe" id="elulahedane" />
		<img src = "img/enesetaiendus.png" alt="Enesetäiendus" id="taiendus" />
		<img src = "img/kaasav_juhtimine.png" alt="Kaasav juhtimine" id="kaasav" />
		<img src = "img/koostoine_oppimine.png" alt="Koostöine õppimine" id="koostoine" />
		<img src = "img/koostoo_kogukonnaga.png" alt="Koostöö kogukonnaga" id="kogukond" />
		<img src = "img/koostoo_vanematega.png" alt="Koostöö vanematega" id="vanemad" />
		<img src = "img/liikumist_toetav.png" alt="Liikumist toestav" id="liikumine" />
		<img src = "img/mitmekesisus_meetodites.png" alt="Mitmekesisus meetodites" id="meetodid" />
		<img src = "img/opetajate_koostoo.png" alt="Õpetajate koostöö" id="opetajad" />
		<img src = "img/paindlikkus_ruumis.png" alt="Paindlikkus ruumis" id="paindlikkus" />
		<img src = "img/tehnoloogia_kasutus.png" alt="Tehnoloogia kasutus" id="tehnoloogia" />
		<img src = "img/toetav_hindamine.png" alt="Toetav hindamine" id="hindamine" />
		<img src = "img/turvalisus_suhted.png" alt="Turvalisus suhted" id="turvalisus" />
	</canvas>

	<script>
		// pildid ja lingid järgnevas kahes array-s
		var images = [document.getElementById("elulahedane"), document.getElementById("taiendus"), document.getElementById("kaasav"), document.getElementById("koostoine"), document.getElementById("kogukond"), document.getElementById("vanemad"), document.getElementById("liikumine"), document.getElementById("meetodid"), document.getElementById("opetajad"), document.getElementById("paindlikkus"), document.getElementById("tehnoloogia"), document.getElementById("hindamine"), document.getElementById("turvalisus")];
		var links = new Array("https://postimees.ee/1", "https://postimees.ee/2", "https://postimees.ee/3", "https://postimees.ee/4", "https://postimees.ee/5", "https://postimees.ee/6", "https://postimees.ee/7", "https://postimees.ee/8", "https://postimees.ee/9", "https://postimees.ee/10", "https://postimees.ee/11", "https://postimees.ee/12", "https://postimees.ee/13");
		
		var sectors = images.length;
		var radiuses = new Array();
		// coords array-sse lisatakse iga sektori raadius ning kaks nurgaväärtust (niiöelda sektori algus- ja lõppnurk, vahemikus 0..2*pi), kasutatakse pärast klikkimise event-is sektorite leidmiseks
		var coords = new Array();

		function showCanvas() {
			var toggle1 = document.getElementById("questions");
			if (toggle1.style.display === "none") {
				toggle1.style.display = "block";
			} else {
				toggle1.style.display = "none";
			}
		}
		
		function setValues() {
			var qa1 = parseInt(document.querySelector('input[name="q1"]:checked').value);
			var qa2 = parseInt(document.querySelector('input[name="q2"]:checked').value);
			var qa3 = parseInt(document.querySelector('input[name="q3"]:checked').value);
			var qa4 = parseInt(document.querySelector('input[name="q4"]:checked').value);
			var qa5 = parseInt(document.querySelector('input[name="q5"]:checked').value);
			var qa6 = parseInt(document.querySelector('input[name="q6"]:checked').value);
			var qa7 = parseInt(document.querySelector('input[name="q7"]:checked').value);
			var qa8 = parseInt(document.querySelector('input[name="q8"]:checked').value);
			var qa9 = parseInt(document.querySelector('input[name="q9"]:checked').value);
			var qa10 = parseInt(document.querySelector('input[name="q10"]:checked').value);
			var qa11 = parseInt(document.querySelector('input[name="q11"]:checked').value);
			var qa12 = parseInt(document.querySelector('input[name="q12"]:checked').value);
			var qa13 = parseInt(document.querySelector('input[name="q13"]:checked').value);
			var qa14 = parseInt(document.querySelector('input[name="q14"]:checked').value);
			var qa15 = parseInt(document.querySelector('input[name="q15"]:checked').value);
			var qa16 = parseInt(document.querySelector('input[name="q16"]:checked').value);
			var qa17 = parseInt(document.querySelector('input[name="q17"]:checked').value);
			var qa18 = parseInt(document.querySelector('input[name="q18"]:checked').value);
			var qa19 = parseInt(document.querySelector('input[name="q19"]:checked').value);
			var qa20 = parseInt(document.querySelector('input[name="q20"]:checked').value);
			var qa21 = parseInt(document.querySelector('input[name="q21"]:checked').value);
			var qa22 = parseInt(document.querySelector('input[name="q22"]:checked').value);
			var qa23 = parseInt(document.querySelector('input[name="q23"]:checked').value);
			var qa24 = parseInt(document.querySelector('input[name="q24"]:checked').value);
			var qa25 = parseInt(document.querySelector('input[name="q25"]:checked').value);
			var qa26 = parseInt(document.querySelector('input[name="q26"]:checked').value);
			var qa27 = parseInt(document.querySelector('input[name="q27"]:checked').value);
			var qa28 = parseInt(document.querySelector('input[name="q28"]:checked').value);
			var qa29 = parseInt(document.querySelector('input[name="q29"]:checked').value);
			var qa30 = parseInt(document.querySelector('input[name="q30"]:checked').value);
			var qa31 = parseInt(document.querySelector('input[name="q31"]:checked').value);
			var qa32 = parseInt(document.querySelector('input[name="q32"]:checked').value);
			var qa33 = parseInt(document.querySelector('input[name="q33"]:checked').value);
			var qa34 = parseInt(document.querySelector('input[name="q34"]:checked').value);
			var qa35 = parseInt(document.querySelector('input[name="q35"]:checked').value);
			var qa36 = parseInt(document.querySelector('input[name="q36"]:checked').value);
			var qa37 = parseInt(document.querySelector('input[name="q37"]:checked').value);
			var qa38 = parseInt(document.querySelector('input[name="q38"]:checked').value);
			var qa39 = parseInt(document.querySelector('input[name="q39"]:checked').value);
			var qa40 = parseInt(document.querySelector('input[name="q40"]:checked').value);
			var qa41 = parseInt(document.querySelector('input[name="q41"]:checked').value);

			var t1Val = (qa1 + qa17 + qa31) / 3;			// T1
			var t2Val = (qa3 + qa33) / 2;					// T2
			var t3Val = (qa14 + qa35) / 2;					// T3
			var t4Val = (qa2 + qa8 + qa40) / 3;				// T4
			var t5Val = (qa5 + qa12 + qa32 + qa37) / 4;		// T5
			var t6Val = (qa7 + qa9 + qa41) / 3;				// T6
			var t7Val = (qa20 + qa22 + qa27 + qa39) / 4;	// T7
			var t8Val = (qa23 + qa29) / 2;					// T8
			var t9Val = (qa15 + qa16 + qa18) / 3;			// T9
			var t10Val = (qa10 + qa19 + qa28 + qa38) / 4;	// T10
			var t11Val = (qa4 + qa25 + qa26 + qa30) / 4;	// T11
			var t12Val = (qa6 + qa13 + qa34) / 3;			// T12
			var t13Val = (qa11 + qa21 + qa24 + qa36) / 4;	// T13

			// Leitud sektorite keskmised väärtused vahemikus 1..5, raadiuse väärtused peavad olema kujul 0..1
			radiuses = [t1Val/5, t2Val/5, t3Val/5, t4Val/5, t5Val/5, t6Val/5, t7Val/5, t8Val/5, t9Val/5, t10Val/5, t11Val/5, t12Val/5, t13Val/5];
		}

		// Joonistatav pind (akna suurusest lahutatud kahekordne padding)
		var myCanvas = document.getElementById("myCanvas");
		myCanvas.width = window.innerWidth-100;
		myCanvas.height = window.innerHeight-100;
	
		var ctx = myCanvas.getContext("2d");
		
		var centerX = myCanvas.width/2;
		var centerY = myCanvas.height/2;
		
		// algväärtused ikooni suurusele ja ikooni vasakpoolse ülemise nurga kaugus sektori äärest
		var imageSize = 50;
		var offset = 40;
		
		// sektori joonistamine
		function drawSlice(ctx, radius, startAngle, endAngle, color) {
			ctx.fillStyle = color;
			ctx.beginPath();
			ctx.moveTo(centerX,centerY);
			ctx.arc(centerX, centerY, radius, startAngle, endAngle);
			ctx.closePath();
			ctx.fill();
		}
		
		// skaalajoone joonistamine
		function drawArc(ctx, radius, startAngle, endAngle){
			ctx.beginPath();
			ctx.arc(centerX, centerY, radius, startAngle, endAngle);
			ctx.stroke();
		}
		
		// sektorile ikooni joonistamine
		function drawIcons(ctx, radius, startAngle, endAngle, image) {
			ctx.drawImage(image, centerX-imageSize/2 + (radius-offset)*Math.cos((startAngle + endAngle)/2), centerY-imageSize/2 + (radius-offset)*Math.sin((startAngle + endAngle)/2), imageSize, imageSize);
		}
		
		// kogu joonistuste komplekti kokkupanek
		function draw() {
			if (myCanvas.height < 400) {
				myCanvas.height = 400;
			}
			
			// joonistatakse ja canvas kuvatakse alles siis, kui kõikidele küsimustele on vastatud
			if (radiuses.length == images.length) {
				myCanvas.style.display = "block";

				// skaala joonistamine
				for (var i = 0; i <= (myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/2+1; i += (myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/20) {
					drawArc(ctx, i, 0, 2*Math.PI);
				}
				
				// sektorite joonistamine, üle ühe erinevad värvid, et oleks parem sektoreid eristada
				for (var j = 0, i = 0; j < sectors; i += 2/sectors*Math.PI, j++) {
					if (j%2 == 0) {
						drawSlice(ctx,(myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/2*radiuses[j], i, i+2/sectors*Math.PI, "rgb(255,0,0)");
						coords[j] = [(myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/2*radiuses[j], i, i+2/sectors*Math.PI];
					}
					else {
						drawSlice(ctx,(myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/2*radiuses[j], i, i+2/sectors*Math.PI, "rgb(0,255,0)");
						coords[j] = [(myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/2*radiuses[j], i, i+2/sectors*Math.PI];
					}
				}
				
				// ikoonide joonistamine
				for (j = 0, i = 0; j < sectors; i += 2/sectors*Math.PI, j++) {
					if (radiuses[j] < 0.5) {
						imageSize = 30;
						offset = 20;
					}
					else {
						imageSize = 50;
						offset = 40;
					}
					drawIcons(ctx,(myCanvas.height>myCanvas.width ? myCanvas.width : myCanvas.height)/2*radiuses[j], i, i+2/sectors*Math.PI, images[j]);
				}
			}
		}
		
		// canvasel aktiveeritud klikkimise event
		function getMousePosition() {
			// event on aktiivne ka küsimuste lehel, kuid tagastab iga klikiga konsooli errori, selle vältimiseks kasutatud try-catch plokki
			try {
				var x = event.clientX-50;
				var y = event.clientY-50;
				var clickRadius = Math.sqrt(Math.pow(x-centerX, 2) + Math.pow(y-centerY, 2));
				var clickAngle = ((Math.atan2(y-centerY,x-centerX))< 0 ? (Math.atan2(y-centerY,x-centerX))+2*Math.PI : (Math.atan2(y-centerY,x-centerX)));
		/*        console.log("Coordinate x: " + x,
							"Coordinate y: " + y,
							"Max radius: " + (myCanvas.height>myCanvas.width ? myCanvas.width-centerX : myCanvas.height-centerY),
							"Angle: " + clickAngle,
							"Radius: " + clickRadius);
		*/
		
				// kui klikitakse sektoril, avaneb sellele sektorile mõeldud link
				for (i = 0, j = 0; i < sectors; i++, j+= 2/sectors*Math.PI) {
					if (clickAngle > coords[i][1] && clickAngle < coords[i][2] && clickRadius < coords[i][0]) {
						window.open(links[i]);
					}
				}
			}
			catch(err) {}
		}
		
		// Akna suuruse muutmisel joonistatakse canvas uuesti nii, et pilt oleks uuel ekraani suurusel keskel
		var onResize = function(e) {
			myCanvas.width = e.target.innerWidth-100;
			myCanvas.height = e.target.innerHeight-100;
			
			centerX = myCanvas.width/2;
			centerY = myCanvas.height/2;
			
			draw();

		}

		document.getElementById("myBtn").addEventListener("click", draw);
		window.addEventListener("mousedown", getMousePosition);
		window.addEventListener("resize", onResize);
		
	</script>
</body>
</html>
